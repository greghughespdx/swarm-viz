{"type":"convention","content":"swarm-viz server defaults to port 3000 (not 3001). client/index.html is the entry point referencing main.js. bun-types must be installed (bun install) before typecheck passes.","classification":"tactical","recorded_at":"2026-02-17T05:29:26.057Z","id":"mx-cff751"}
{"type":"pattern","name":"viz-protocol-layer","description":"DB types stay internal (DbMergeQueueEntry), viz wire types are clean (Agent, AgentMessage, MergeQueueEntry, SwarmMetrics, StateSnapshot, StateUpdate). Server maps with toAgent/toAgentMessage/toVizMergeEntry/computeMetrics. Protocol: snapshot on connect, individual StateUpdate events per poll. Client handles snapshot and update message types.","classification":"tactical","recorded_at":"2026-02-17T05:53:41.430Z","evidence":{"commit":"abbed77"},"id":"mx-350a4d"}
{"type":"convention","content":"When DB type name conflicts with viz protocol type, prefix DB type with Db (e.g., DbMergeQueueEntry vs MergeQueueEntry). DB-internal types get the Db prefix; viz wire types keep the clean name.","classification":"tactical","recorded_at":"2026-02-17T05:53:49.328Z","evidence":{"commit":"abbed77"},"id":"mx-16f124"}
